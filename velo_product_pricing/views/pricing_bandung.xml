<odoo>
    <data>
        <record id="product_region_bandung_nonmetro_view" model="ir.ui.view">
            <field name="name">product.template.region.bandung.nonmtero.form</field>
            <field name="model">product.template</field>
            <field eval="15" name="priority"/>
            <field name="arch" type="xml">
                <form string="Pricing">
                    <header>
                            <button name="product_quotation" string="Create Quotation" class="oe_highlight" type="object"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                        <label for="product_code" string="Product ID"/>
                            <h1><field name="product_code" placeholder="Product ID" string="Product ID"/></h1>
                            <h3><field name="name" placeholder="Product Description" string="Product Description"/></h3>
                        </div>
                        <div>
                            <field name="adhoc_ok"/>
                            <label for="adhoc_ok"/>
                        </div>      
                        <div>
                            <field name="recurring_invoice" string="Recurring Invoice"/>
                            <label for="recurring_invoice" string="Recurring Invoice"/>
                        </div>
                        <group>
                            <notebook>
                                <page name="general_information" string="General Information">
                                    <group>
                                        <group>
                                            <field name="type" invisible="1"/>
                                            <field name="product_group"/>
                                            <field name="categ_id"/>
                                            <field name="default_code"/>
                                            <field name="ip_address"/>
                                            <field name="categ_short_name" invisible="1"/>
                                            <field name="product_description"/>
                                            <field name="capacity"/>
                                            <field name="product_availability"/>             
                                        </group>
                                    </group>
                                </page>
                                
                                <page name="validity_ids" string="Pricing">
                                    <field name="validity_bandung_nonmetro_ids">
                                        <tree string="Pricing">
                                            <field name="sequence" widget="handle"/>
                                            <field name="region" width="30" string="Region"/>
                                            <!-- <field name="hrb" width="30" string="Type of POP"/> -->
                                            <field name="metroe" width="25"/>
                                            <field name="monthly_tariff" widget="integer" width="25"/>
                                            <field name="installation_fee" widget="integer" width="30" string="Installation Fee"/>
                                            <field name="mtti" width="30" string="MTTI"/>
                                            <field name="space"/>
                                            <field name="date_start" width="30" string="Validity"/>
                                            <!-- <field name="status" width="10" string="Active"/> -->
                                        </tree>
                                        <form string="Pricing">
                                            <header>
                                                <button class="oe_stat_button" float="float-right" name="action_view_validity_graph" type="object" help="Price Graph" string="Price History" icon="fa-signal" ></button>
                                            </header>
                                            <group>
                                                <group>
                                                    <field name="region" width="10" string="Region"/>
                                                    <!-- <field name="hrb" width="10" string="Type of POP"/> -->
                                                    <field name="metroe" width="5"/>
                                                    <field name="monthly_tariff" widget="integer" width="5" sum="Total Monthly Tariff"/>
                                                    <field name="installation_fee" widget="integer" width="10" string="Installation Fee"/>
                                                </group>
                                                <group>
                                                    <field name="mtti" width="10" string="MTTI"/>
                                                    <field name="date_start" width="10" />
                                                    <field name="date_end" width="10" />
                                                    <field name="status" />
                                                </group>
                                            </group>
                                        </form>
                                    </field>
                                </page>
                                <page name="previous_pricing_ids" string="History Pricing">
                                    <field name="previous_bandung_pricing_ids">
                                        <tree string="History Pricing">
                                            <field name="region" width="5" string="Region"/>
                                            <!-- <field name="hrb" width="5" string="Type of POP"/> -->
                                            <field name="metroe" width="5"/>
                                            <field name="monthly_tariff" widget="integer" width="5"/>
                                            <field name="installation_fee" widget="integer" width="5" string="Installation Fee"/>
                                            <field name="mtti" width="5" string="MTTI"/>
                                            <field name="space"/>
                                            <field name="date_start" width="30" string="Validity"/>
                                            <!-- <field name="status" width="10" string="Active"/> -->
                                        </tree>
                                        <form string="History Pricing">
                                            <header>
                                                <button class="oe_stat_button" float="float-right" name="action_view_validity_graph" type="object" help="Price Graph" string="Price History" icon="fa-signal" ></button>
                                            </header>
                                            <group>
                                                <group>
                                                    <field name="region" width="10" string="Region"/>
                                                    <!-- <field name="hrb" width="10" string="Type of POP"/> -->
                                                    <field name="metroe" width="5"/>
                                                    <field name="monthly_tariff" widget="integer" width="5" sum="Total Monthly Tariff"/>
                                                    <field name="installation_fee" widget="integer" width="10" string="Installation Fee"/>
                                                </group>
                                                <group>
                                                    <field name="mtti" width="10" string="MTTI"/>
                                                    <field name="date_start" width="10" />
                                                    <field name="date_end" width="10" />
                                                    <field name="status" />
                                                </group>
                                            </group>
                                        </form>
                                    </field>
                                </page>
                                <page name="availability_ids" string="Availability">
                                    <field name="availability_ids">
                                        <tree string="Availability">
                                            <field name="pop_id"/>
                                            <field name="pop_name"/>
                                            <field name="pop_type"/>
                                            <field name="pop_area"/>
                                        </tree>
                                    </field>
                                </page>
                                <page name="summary_ids" string="Sales History" >
                                    <group>
                                        <group>
                                            <field name="total_product_sold"/>
                                            <field name="total_active_service"/>
                                            <field name="total_customers" invisible="0"/>
                                            <field name="total_revenue" widget="integer"/>
                                            <field name="arpu" widget="integer"/>
                                        </group>
                                    </group>
                                </page>
                                <page name="service_ids" string="Current Service">
                                    <field name="service_ids">
                                        <tree string="Service">
                                            <field name="customer_id" string="Customer"/>
                                            <field name="price_unit" string="Tarif" sum="Subtotal" widget="integer"/>
                                            <field name="space"/>
                                            <field name="act_date"/>
                                            <field name="exp_date"/>
                                        </tree>
                                    </field>
                                </page>
                            </notebook>
                        </group>        
                    </sheet>
                </form>
            </field>
        </record>

        <record id="product_pricing_bandung_tree" model="ir.ui.view">
            <field name="name">Pricing Bandung Tree</field>
            <field name="model">product.template</field>
            <field eval="17" name="priority"/>
            <field name="arch" type="xml">
                <tree string="Pricing Bali">
                    <field name="region_bandung" width="10"/>
                    <field name="product_code" width="10"/>
                    <field name="name" string="Product Description" width="10"/>
                    <field name="monthly_fee_bandung_nonmetro" widget="integer" string="Monthly Fee" width="10"/>
                    <field name="installation_fee_bandung_nonmetro" widget="integer" string="Installation Fee" width="10"/>
                    <field name="space" width="10"/> 
                    <field name="validity_date_bandung_nonmetro" width="10" widget="date"/>
                    <field name="mtti_bandung_nonmetro" string="MTTI(Days)" width="10"/>
                </tree>
            </field>
        </record>

        <record id="product_pricing_bandung_nonmetro_tree" model="ir.ui.view">
            <field name="name">Pricing Bandung Non Metro Tree</field>
            <field name="model">product.template</field>
            <field eval="17" name="priority"/>
            <field name="arch" type="xml">
                <tree string="Pricing Bali">
                    <field name="region_bandung" width="10"/>
                    <field name="product_code" width="10"/>
                    <field name="name" string="Product Description" width="10"/>
                    <field name="monthly_fee_bandung_nonmetro" widget="integer" string="Monthly Fee" width="10"/>
                    <field name="installation_fee_bandung_nonmetro" widget="integer" string="Installation Fee" width="10"/>
                    <field name="space" width="10"/> 
                    <field name="validity_date_bandung_nonmetro" width="10" widget="date"/>
                    <field name="mtti_bandung_nonmetro" string="MTTI(Days)" width="10"/>
                </tree>
            </field>
        </record>

        <record id="product_pricings_bandung_action" model="ir.actions.act_window">
            <field name="name">Pricing Bandung</field>
            <field name="res_model">product.template</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'target': 'main'}</field>
            <field name="domain">[('validity_ids.region','ilike', 'bandung')]</field>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('velo_product_pricing.product_pricing_bandung_tree')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('velo_product_pricing.product_region_bandung_nonmetro_view')})]"/>
        </record>

        <record id="product_pricings_bandung_nonmetro_action" model="ir.actions.act_window">
            <field name="name">Pricing Bandung Non Metro</field>
            <field name="res_model">product.template</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'target': 'main'}</field>
            <field name="domain">[('validity_ids.region','ilike', 'bandung'),('validity_ids.metroe','=', 'Non Metro')]</field>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('velo_product_pricing.product_pricing_bandung_nonmetro_tree')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('velo_product_pricing.product_region_bandung_nonmetro_view')})]"/>
        </record>        
    </data>
</odoo>